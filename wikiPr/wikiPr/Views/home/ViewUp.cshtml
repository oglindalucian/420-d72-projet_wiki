@using wikiPr.Models

@{ 
    string str = "";
    string inscription = "Inscription";
    string connexion = "Connexion";
    string accueil = "Accueil";
    string ajouterarticle = "Ajouter article";
    string apropos = "À propos";
    string profil = "Profil";
    string deconnexion = "Déconnexion";
    string bonjour = "Bonjour";


    try {
        str = Request.ServerVariables["HTTP_ACCEPT_LANGUAGE"];
        Utilisateur u = Utilisateurs.FindByCourriel(User.Identity.Name);
        if (User.Identity.IsAuthenticated && u != null) { str = u.Langue; }
    }
    catch { str = "fr"; }

    if (str.IndexOf("fr") != -1) {
        inscription = "Inscription";
        connexion = "Connexion";
        accueil = "Accueil";
        ajouterarticle = "Ajouter article";
        apropos = "À propos";
        profil = "Profil";
        deconnexion = "Déconnexion";
        bonjour = "Bonjour";
    }

    if (str.IndexOf("en") != -1) {
        inscription = "Sign up";
        connexion = "Sign in";
        accueil = "Home";
        ajouterarticle = "Add article";
        apropos = "About";
        profil = "Profile";
        deconnexion = "Log out";
        bonjour = "Hello";
    }

    if (str.IndexOf("es") != -1) {
        inscription = "Regístrate";
        connexion = "Conexión";
        accueil = "Recepción";
        ajouterarticle = "Añadir artículo";
        apropos = "A proposito";
        profil = "Perfil";
        deconnexion = "Cerrar sesión";
        bonjour = "Hola";
    }
}


<br />
<div class="btn_accueil">
    <a class="btn" href="/home/index">@accueil</a>
</div>
<div class="btn_ajouter">
    <a class="btn" href="/home/ajouter">@ajouterarticle</a>
</div>
<div class="btn_apropos">
    <a class="btn" href="/home/apropos">@apropos</a>
</div>
@if (!User.Identity.IsAuthenticated) {
    <div class="inscription">
        <a href="/Utilisateurs/Inscription">@inscription</a>
    </div>
    <div class="connexion">
        <a href="/Utilisateurs/Connexion">@connexion</a>
    </div>
}
else if (User.Identity.IsAuthenticated) {
    <div class="inscription">
        <a href="/Utilisateurs/Profil">@profil</a>
    </div>
    <div class="connexion">
        <a href="/Utilisateurs/Logout">@deconnexion</a>
    </div>
    <div class="bonjour">@bonjour @User.Identity.Name!</div>
}
