@model wikiPr.Models.Article
@using wikiPr.Models
@{
      Layout = "~/Views/Shared/Layout.cshtml";                
   
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>ajouter</title>
    <script src="~/ckeditor/ckeditor.js"></script>
    <script>
                        function copiertexte() {
        var x = document.getElementById("acopier").lastChild.firstChild.nodeValue;

        document.getElementById("apercu_art").innerHTML = x;
    }
    </script>
</head>
<body>
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>


    @section up {
       @Html.Partial("ViewUp")
    }

    @section liste {
       @Html.Partial("ViewListe")
    }
    
    
    @using (Html.BeginForm()) 
    {
        @Html.AntiForgeryToken()
        
        <div class="form-horizontal">
            <h4>Article</h4>
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="form-group">
                @*@Html.LabelFor(model => model.Titre, htmlAttributes: new { @class = "control-label col-md-2" })*@
                @wikiPr.Ressource.ResourceView.Titre
                <div class="col-md-10">
                    @Html.EditorFor(model => model.Titre, new { htmlAttributes = new { @class = "form-control", @value = @ViewBag.letitre } })
                    @Html.ValidationMessageFor(model => model.Titre, "", new { @class = "text-danger" })
                </div>
            </div>
            <div id="unu">
                <div class="form-group">
                    @*@Html.LabelFor(model => model.Contenu, htmlAttributes: new { @class = "control-label col-md-2" })*@
                    @wikiPr.Ressource.ResourceView.Contenu
                    <div class="col-md-10">
                       
                        @Html.TextAreaFor(model => model.Contenu,  new { @class = "ckeditor", @id = "acopier" })

                         

                        @Html.ValidationMessageFor(model => model.Contenu, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>


                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Créer article" class="btn btn-default" />
                    </div>
                </div>
            </div>
    }
    <br />
    <div>
        @Html.ActionLink("Annuler l'ajout", "Index")
    </div>
    <br />
    <div>
        @*<button onclick="copiertexte()">Apperçu de l'article</button>*@ 
        @*<input type="button" value="Apperçu de l'article" onclick="window.open(@Html.Action("Apercu"))" />*@ @*???*@     
       @*@{ 
           Apercu ap = new Apercu(Model.Contenu);
       }
         @Html.ActionLink("Appercu de l'article","Apercu", new { Content = ap.Content }, null)*@
        @*<form action="/home/ajouter" method="get">
            @*<input type="submit" value="Appercu de l'article" onclick="copiertexte()" />*@
            @*<button onclick="copiertexte()">Apperçu de l'article</button>*@
            @*<input type="button" value="Apperçu de l'article" onclick="window.open('/home/Apercu')" />
        </form>*@
    </div>
    <br/>
   
  
    <div id="apercu_art"></div>    
    
    
</body>
</html>
